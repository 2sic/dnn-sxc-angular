This guide will help you to create a new 2sxc app with Angular 5. Before you start, make sure you have installed 2sxc 9+. This guide assumes you have already used 2sxc and know how to add apps, views and content types. If this is not the case, please start with a [guide to create your own app?].

## Prepare basic Angular app
1. Navigate to `/Portals/0/2sxc` (depending of your portal root folder, replace the portal path) and follow the [quickstart guide of Angular](https://angular.io/guide/quickstart) which will create a directory with the angular app contents.

1. Run npm install "@2sic.com/dnn-sxc-angular" to add the dnn-sxc-angular connector

1. Open `package.json` and configure the npm run scripts. Remove the line "build" and add the following lines:
    ```json
    "build": "ng build --prod --output-hashing none --sourcemaps=true -vc=true --extract-css=true",
    "watch": "ng build --watch --output-hashing none --sourcemaps=true -vc=true --extract-css=true",
    ```
    This will allow you to use `npm run build` to create a production build and `npm run watch` while developing. It also makes sure the file names do not contain hashes and that the angular compiler will create the same files (with different content though) for production and development builds. This makes it easier to include the files in a 2sxc template.

## Register and prepare app in 2sxc
1. Create a new 2sxc app from the App module in DNN. To ensure the app will place its files in the same directory, use the same app name as in step 1. Place the app on a page.

1. Create a content type named `Person` which we will access later from our angular app. Add a string field `Name` and create a sample entity / record.

1. In the content type list, you can [define permissions](https://2sxc.org/en/Learn/Permissions) by clicking the user icon. In this example, we want the content type to be accessible anonymously. Grant `Read` permission to the access level `SecurityAccessLevel.View`.

1. From the app configuration, create a new Razor view named `_Index.cshtml`

1. The `_Index.cshtml` will act as our `index.html`. We canâ€™t use the default html provided by the angular compiler because we want to integrate our app inside of DNN. Open the Razor template and insert the following code:
    ```html
    <base href="/">
    <link href="@App.Path/dist/styles.bundle.css" rel="stylesheet"/></head>
    <app-root></app-root>
    <script src="/desktopmodules/tosic_sexycontent/js/2sxc.api.min.js"></script>
    <script type="text/javascript" src="@App.Path/dist/inline.bundle.js"></script>
    <script type="text/javascript" src="@App.Path/dist/polyfills.bundle.js"></script>
    <script type="text/javascript" src="@App.Path/dist/vendor.bundle.js"></script>
    <script type="text/javascript" src="@App.Path/dist/main.bundle.js"></script>
    ```
    (for completeness - the differences to the html file generated by angular are: removed html, head and body nodes; removed icon; added correct path to file with `@App.Path`; included 2sxc api)

1. Run `npm run watch` and see the app running inside of DNN. It will output some example content. Now we have running an Angular app, but it's no 2sxc app yet (for example, it can't load data from 2sxc).

## Modify the angular app to connect with 2sxc
1. Open `app.component.ts` and replace the contents with
    ```typescript
    import { Component, ElementRef, OnInit } from '@angular/core';
    import { DnnAppComponent, Context, Data } from '@2sic.com/dnn-sxc-angular';
    import { Observable } from 'rxjs';

    @Component({
    selector: 'app-root',
    templateUrl: './app.component.html',
    styleUrls: ['./app.component.css']
    })
    export class AppComponent extends DnnAppComponent implements OnInit {
    persons: Observable<Person[]>;
    constructor(
        el: ElementRef,
        context: Context,
        private data: Data,
    ) {
        super(el, context);
    }

    ngOnInit() {
        this.persons = this.data.content<Person>('person').get();
    }
    title = 'app';
    }

    class Person {
    Name: string;
    }
    ```

    The modifications are:
    * Added imports at the top
    * Added constructor which will ensure our app is correctly initialized
    * Added field `person` which contains an observable list of persons
    * Added ngOnInit event which will define our observable
    * Added class Person which defines our data structure

11. Open `app.module.ts` and replace the contents with:
    ```typescript
    import { BrowserModule } from '@angular/platform-browser';
    import { NgModule } from '@angular/core';
    import { Context, Data, DnnInterceptor } from '@2sic.com/dnn-sxc-angular';
    import { HttpClientModule } from '@angular/common/http';

    import { AppComponent } from './app.component';


    @NgModule({
    declarations: [
        AppComponent
    ],
    imports: [
        BrowserModule,
        HttpClientModule
    ],
    providers: [
        DnnInterceptor,
        Context,
        Data
    ],
    bootstrap: [AppComponent]
    })
    export class AppModule { }

    ```

    The modifications are:
    * Added providers `DnnInterceptor, Context, Data`
    * Added `HttpClientModule` to the imports list
    * Added required module imports at the top

1. Open `app.component.html` and add this snippet:
    ```html
    <div *ngFor="let person of persons | async">{{ person.Name }}</div>
    ```

1. Run `npm run watch` if it is not running already. Reload the DNN page and check if the sample entry is displayed.

## Troubleshooting
If the app does not run
* Check browser console and terminal for errors
* Make sure you are not in page edit mode
* ...?